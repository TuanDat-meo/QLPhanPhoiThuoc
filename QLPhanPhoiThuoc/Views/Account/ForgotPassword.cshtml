@model QLPhanPhoiThuoc.Models.ViewModels.ForgotPasswordViewModel
@{
    ViewData["Title"] = "Quên mật khẩu";
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Quản lý thuốc bệnh viện</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
            background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#0f172a 100%);
            min-height:100vh;
            display:flex; align-items:center; justify-content:center;
            padding:20px;
            position:relative; overflow:hidden;
        }
        body::before {
            content:''; position:fixed; top:-30%; left:-15%;
            width:600px; height:600px;
            background:radial-gradient(circle,rgba(56,189,248,.08) 0%,transparent 70%);
            border-radius:50%; pointer-events:none;
        }
        body::after {
            content:''; position:fixed; bottom:-25%; right:-10%;
            width:500px; height:500px;
            background:radial-gradient(circle,rgba(251,113,133,.07) 0%,transparent 70%);
            border-radius:50%; pointer-events:none;
        }

        /* ─── Card ─── */
        .forgot-container {
            background:#fff;
            border-radius:24px;
            box-shadow:0 25px 60px rgba(0,0,0,.35);
            overflow:hidden;
            max-width:480px;
            width:100%;
            position:relative; z-index:1;
        }

        /* ─── Header ─── */
        .forgot-header {
            background:linear-gradient(160deg,#1e3a5f 0%,#0f2847 50%,#162d4a 100%);
            padding:44px 40px 36px;
            text-align:center;
            color:#fff;
            position:relative; overflow:hidden;
        }
        .forgot-header::before {
            content:''; position:absolute; top:-60%; right:-40%;
            width:70%; height:70%;
            background:radial-gradient(circle,rgba(56,189,248,.12) 0%,transparent 70%);
            border-radius:50%;
        }
        .forgot-header > * { position:relative; z-index:1; }

        .forgot-icon {
            width:78px; height:78px;
            background:rgba(56,189,248,.15);
            border-radius:22px;
            display:flex; align-items:center; justify-content:center;
            margin:0 auto 20px;
            font-size:2.2rem; color:#38bdf8;
            box-shadow:0 4px 16px rgba(56,189,248,.25);
        }

        .forgot-header h1 { font-size:1.75rem; font-weight:700; margin-bottom:8px; }
        .forgot-header p { font-size:.93rem; opacity:.8; color:#cbd5e1; line-height:1.5; }

        /* ─── Body ─── */
        .forgot-body { padding:36px 40px 32px; background:#fafbfc; }

        .info-box {
            background:#eff6ff;
            border-left:4px solid #38bdf8;
            padding:14px 16px;
            border-radius:10px;
            margin-bottom:26px;
        }
        .info-box p {
            margin:0; color:#1e40af; font-size:.88rem; line-height:1.6;
            display:flex; align-items:flex-start; gap:10px;
        }
        .info-box p i { color:#38bdf8; margin-top:2px; flex-shrink:0; }

        /* ─── Form ─── */
        .form-group { margin-bottom:22px; }
        .form-label {
            display:block; margin-bottom:7px; color:#1e293b;
            font-weight:600; font-size:.88rem; letter-spacing:.2px;
        }

        .input-wrapper { position:relative; }
        .input-wrapper .icon-left {
            position:absolute; left:15px; top:50%;
            transform:translateY(-50%); color:#94a3b8;
            font-size:1rem; pointer-events:none; z-index:2;
        }

        .form-control {
            width:100%; padding:13px 18px 13px 44px;
            border:2px solid #e2e8f0; border-radius:12px;
            font-size:.95rem; color:#0f172a; background:#fff;
            transition:border-color .25s, box-shadow .25s;
        }
        .form-control:focus {
            outline:none; border-color:#38bdf8;
            box-shadow:0 0 0 3px rgba(56,189,248,.18);
        }
        .form-control::placeholder { color:#94a3b8; }

        .text-danger { color:#fb7185; font-size:.82rem; margin-top:5px; display:block; }

        /* ─── Buttons ─── */
        .btn-primary {
            width:100%; padding:14px;
            background:linear-gradient(135deg,#1e3a5f 0%,#162d4a 100%);
            border:none; border-radius:12px; color:#fff;
            font-size:1rem; font-weight:600; cursor:pointer;
            transition:transform .2s, box-shadow .2s;
            text-transform:uppercase; letter-spacing:.8px;
            display:flex; align-items:center; justify-content:center; gap:10px;
        }
        .btn-primary:hover { transform:translateY(-2px); box-shadow:0 8px 24px rgba(30,58,95,.35); }
        .btn-primary:active { transform:translateY(0); }

        .btn-secondary {
            width:100%; padding:13px;
            background:#f1f5f9; border:2px solid #e2e8f0;
            border-radius:12px; color:#475569;
            font-size:.93rem; font-weight:600; cursor:pointer;
            transition:background .2s, border-color .2s;
            text-decoration:none;
            display:flex; align-items:center; justify-content:center; gap:8px;
            margin-top:12px;
        }
        .btn-secondary:hover { background:#e2e8f0; border-color:#cbd5e1; color:#1e293b; }

        /* ─── Alerts ─── */
        .alert { padding:12px 16px; border-radius:10px; margin-bottom:18px; font-size:.88rem; display:flex; align-items:center; gap:10px; }
        .alert-danger { background:#fff1f2; color:#e11d48; border:1px solid #fecdd3; }

        /* ─── Footer ─── */
        .forgot-footer {
            text-align:center;
            padding:20px 40px;
            background:#f1f5f9;
            border-top:1px solid #e2e8f0;
        }
        .forgot-footer p { font-size:.88rem; color:#64748b; margin-bottom:6px; }
        .forgot-footer p:last-child { margin-bottom:0; }
        .forgot-footer a {
            color:#38bdf8; text-decoration:none; font-weight:600;
            transition:color .2s;
        }
        .forgot-footer a:hover { color:#0ea5e9; }

        /* ─── Responsive ─── */
        media (max-width:576px) {
            .forgot-body { padding:28px 24px; }
            .forgot-header { padding:32px 24px 28px; }
            .forgot-header h1 { font-size:1.5rem; }
            .forgot-footer { padding:16px 24px; }
        }
    </style>
</head>
<body>
    <div class="forgot-container">
        <!-- Header -->
        <div class="forgot-header">
            <div class="forgot-icon">
                <i class="fas fa-key"></i>
            </div>
            <h1>Quên mật khẩu?</h1>
            <p>Đừng lo lắng! Chúng tôi sẽ giúp bạn lấy lại mật khẩu.</p>
        </div>

        <!-- Body -->
        <div class="forgot-body">
            <div class="info-box">
                <p>
                    <i class="fas fa-info-circle"></i>
                    Nhập địa chỉ email bạn đã đăng ký. Chúng tôi sẽ gửi hướng dẫn đặt lại mật khẩu đến email của bạn.
                </p>
            </div>

            <form method="post" asp-action="ForgotPassword" asp-controller="Account">
                <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

                <div class="form-group">
                    <label asp-for="Email" class="form-label">Địa chỉ Email</label>
                    <div class="input-wrapper">
                        <i class="fas fa-envelope icon-left"></i>
                        <input asp-for="Email" type="email" class="form-control" placeholder="Nhập email đã đăng ký" autocomplete="email" />
                    </div>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <button type="submit" class="btn-primary">
                    <i class="fas fa-paper-plane"></i>
                    Gửi yêu cầu
                </button>

                <a asp-action="Login" class="btn-secondary">
                    <i class="fas fa-arrow-left"></i>
                    Quay lại đăng nhập
                </a>
            </form>
        </div>

        <!-- Footer -->
        <div class="forgot-footer">
            <p>Nhớ mật khẩu rồi? <a asp-action="Login"><i class="fas fa-sign-in-alt"></i> Đăng nhập ngay</a></p>
            <p>Chưa có tài khoản? <a asp-action="Register"><i class="fas fa-user-plus"></i> Đăng ký</a></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }
</body>
</html>
